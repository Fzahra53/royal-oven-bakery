{% extends "bakeryapp/base.html" %}
{% block title %}Mes livraisons{% endblock %}

{% block content %}
<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">Mes livraisons</h2>
    <span class="badge bg-success">Livreur: {{ livreur.nom }}</span>
  </div>

  {% if livraisons %}
    <table class="table table-striped align-middle">
      <thead>
        <tr>
          <th>#</th>
          <th>Commande</th>
          <th>Client</th>
          <th>Adresse</th>
          <th>Statut</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for l in livraisons %}
        <tr>
          <td>{{ l.id }}</td>
          <td>#{{ l.commande.id }}</td>
          <td>{{ l.commande.client.nom }}</td>
          <td>{{ l.adresse_livraison|default:l.commande.adresse_livraison }}</td>
          <td>{{ l.get_statut_display }}</td>
          <td class="text-end">
            <a href="{% url 'delivery_update_status' l.id %}" class="btn btn-sm btn-primary">
              Mettre Ã  jour
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <div class="alert alert-info">Aucune livraison pour le moment.</div>
  {% endif %}
</div>
{% endblock %}
